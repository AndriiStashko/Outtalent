MEMO = {'123450': 0, '123405': 1, '123045': 2, '124530': 12, '124503': 11, '124053': 10, '125340': 12, '125304': 11,
        '125034': 10, '120345': 13, '120453': 1, '120534': 13, '132540': 16, '132504': 15, '132054': 14,
        '134250': 16, '134205': 15, '134025': 14, '135420': 4, '135402': 5, '135042': 6, '130254': 15, '130425': 3,
        '130542': 17, '142350': 16, '142305': 15, '142035': 16, '143520': 14, '143502': 15, '143052': 16,
        '145230': 18, '145203': 17, '145023': 18, '140235': 17, '140352': 15, '140523': 13, '152430': 4,
        '152403': 3, '152043': 4, '153240': 14, '153204': 13, '153024': 12, '154320': 14, '154302': 13,
        '154032': 12, '150243': 15, '150324': 13, '150432': 5, '102345': 14, '102453': 2, '102534': 14,
        '103254': 14, '103425': 2, '103542': 16, '104235': 16, '104352': 14, '104523': 12, '105243': 16,
        '105324': 12, '105432': 6, '213540': 14, '213504': 13, '213054': 14, '214350': 18, '214305': 17,
        '214035': 18, '215430': 18, '215403': 17, '215043': 18, '210354': 19, '210435': 17, '210543': 13,
        '231450': 14, '231405': 15, '231045': 16, '234510': 14, '234501': 15, '234051': 16, '235140': 6,
        '235104': 7, '235014': 8, '230145': 5, '230451': 13, '230514': 13, '241530': 12, '241503': 11, '241053': 10,
        '243150': 6, '243105': 5, '243015': 6, '245310': 14, '245301': 13, '245031': 12, '240153': 7, '240315': 15,
        '240531': 13, '251340': 16, '251304': 17, '251034': 18, '253410': 14, '253401': 13, '253041': 14,
        '254130': 10, '254103': 9, '254013': 10, '250134': 9, '250341': 15, '250413': 15, '201354': 18,
        '201435': 16, '201543': 12, '203145': 4, '203451': 12, '203514': 12, '204153': 8, '204315': 16,
        '204531': 14, '205134': 8, '205341': 14, '205413': 16, '312450': 14, '312405': 15, '312045': 16,
        '314520': 16, '314502': 15, '314052': 16, '315240': 12, '315204': 11, '315024': 12, '310245': 13,
        '310452': 13, '310524': 17, '321540': 20, '321504': 19, '321054': 20, '324150': 14, '324105': 13,
        '324015': 14, '325410': 14, '325401': 13, '325041': 14, '320154': 13, '320415': 15, '320541': 19,
        '341250': 16, '341205': 15, '341025': 14, '342510': 16, '342501': 17, '342051': 16, '345120': 10,
        '345102': 9, '345012': 10, '340125': 11, '340251': 15, '340512': 15, '351420': 14, '351402': 13,
        '351042': 14, '352140': 10, '352104': 11, '352014': 12, '354210': 12, '354201': 13, '354021': 14,
        '350142': 9, '350214': 11, '350421': 13, '301245': 14, '301452': 12, '301524': 18, '302154': 12,
        '302415': 16, '302541': 18, '304125': 12, '304251': 14, '304512': 14, '305142': 8, '305214': 10,
        '305421': 12, '412530': 6, '412503': 5, '412053': 4, '413250': 6, '413205': 5, '413025': 4, '415320': 10,
        '415302': 9, '415032': 8, '410253': 7, '410325': 11, '410532': 7, '421350': 14, '421305': 13, '421035': 14,
        '423510': 8, '423501': 9, '423051': 10, '425130': 20, '425103': 19, '425013': 18, '420135': 19,
        '420351': 15, '420513': 7, '431520': 10, '431502': 9, '431052': 10, '432150': 20, '432105': 19,
        '432015': 18, '435210': 8, '435201': 9, '435021': 10, '430152': 19, '430215': 7, '430521': 11, '451230': 10,
        '451203': 9, '451023': 10, '452310': 12, '452301': 13, '452031': 14, '453120': 20, '453102': 19,
        '453012': 18, '450123': 21, '450231': 11, '450312': 11, '401253': 8, '401325': 12, '401532': 8,
        '402135': 18, '402351': 14, '402513': 6, '403152': 18, '403215': 6, '403521': 10, '405123': 20,
        '405231': 10, '405312': 10, '512340': 14, '512304': 15, '512034': 16, '513420': 14, '513402': 15,
        '513042': 16, '514230': 14, '514203': 13, '514023': 14, '510234': 15, '510342': 13, '510423': 13,
        '521430': 14, '521403': 13, '521043': 14, '523140': 8, '523104': 9, '523014': 10, '524310': 16,
        '524301': 15, '524031': 16, '520143': 7, '520314': 15, '520431': 15, '531240': 16, '531204': 17,
        '531024': 18, '532410': 18, '532401': 17, '532041': 18, '534120': 12, '534102': 11, '534012': 12,
        '530124': 11, '530241': 15, '530412': 17, '541320': 12, '541302': 11, '541032': 10, '542130': 8,
        '542103': 7, '542013': 8, '543210': 14, '543201': 13, '543021': 12, '540132': 9, '540213': 13, '540321': 13,
        '501234': 16, '501342': 12, '501423': 12, '502143': 6, '502314': 14, '502431': 16, '503124': 10,
        '503241': 14, '503412': 16, '504132': 10, '504213': 12, '504321': 14, '012345': 15, '012453': 3,
        '012534': 15, '013254': 15, '013425': 3, '013542': 17, '014235': 17, '014352': 15, '014523': 13,
        '015243': 17, '015324': 13, '015432': 7, '021354': 19, '021435': 15, '021543': 13, '023145': 3,
        '023451': 11, '023514': 11, '024153': 9, '024315': 15, '024531': 15, '025134': 9, '025341': 15,
        '025413': 17, '031245': 15, '031452': 11, '031524': 19, '032154': 13, '032415': 17, '032541': 19,
        '034125': 13, '034251': 15, '034512': 13, '035142': 7, '035214': 9, '035421': 11, '041253': 9, '041325': 13,
        '041532': 9, '042135': 17, '042351': 15, '042513': 7, '043152': 17, '043215': 7, '043521': 11, '045123': 19,
        '045231': 11, '045312': 11, '051234': 17, '051342': 13, '051423': 11, '052143': 5, '052314': 13,
        '052431': 15, '053124': 11, '053241': 15, '053412': 17, '054132': 11, '054213': 11, '054321': 15}


class Solution:
    def slidingPuzzle(self, board: List[List[int]]) -> int:
        key = ''.join([str(board[i][j]) for i in range(2) for j in range(3)])
        return MEMO.get(key, -1)
